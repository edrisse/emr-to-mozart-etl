<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>migrate-t_adulto</name>
    <description />
    <extended_description />
    <trans_version />
    <trans_type>Normal</trans_type>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection />
        <schema />
        <table />
        <size_limit_lines />
        <interval />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject />
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject />
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject />
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject />
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject />
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject />
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection />
        <schema />
        <table />
        <interval />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection />
      <table />
      <field />
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file />
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2017/09/18 11:29:58.595</created_date>
    <modified_user>-</modified_user>
    <modified_date>2017/09/18 11:29:58.595</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>EMR (OpenMRS)</name>
    <server>${EMR_HOST}</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>${EMR_DATABASE}</database>
    <port>${EMR_PORT}</port>
    <username>${EMR_USER}</username>
    <password>${EMR_PASSWORD}</password>
    <servername />
    <data_tablespace />
    <index_tablespace />
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>${EMR_PORT}</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>Export DB</name>
    <server>${EXPORT_DB_HOST}</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>${EXPORT_DB_DATABASE}</database>
    <port>${EXPORT_DB_PORT}</port>
    <username>${EXPORT_DB_USER}</username>
    <password>${EXPORT_DB_PASSWORD}</password>
    <servername />
    <data_tablespace />
    <index_tablespace />
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>${EXPORT_DB_PORT}</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Load from t_paciente</from>
      <to>Fetch First Encounter</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch First Encounter</from>
      <to>Fetch Profission</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Profission</from>
      <to>Academic Level</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Academic Level</from>
      <to>Map Academic Level</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Academic Level</from>
      <to>Fetch Conviventes</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Conviventes</from>
      <to>Fetch Marital Status</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Marital Status</from>
      <to>Map Matiral Status</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Matiral Status</from>
      <to>Numero de Conjugues</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Numero de Conjugues</from>
      <to>Fetch Serologia HIV Conjugue</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Serologia HIV Conjugue</from>
      <to>Map Sorologia HIV Conjugue</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Sorologia HIV Conjugue</from>
      <to>Fetch Process Number</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Process Number</from>
      <to>Fetch Process Number Conjugue</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Process Number Conjugue</from>
      <to>Fetch Number of Sons</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Number of Sons</from>
      <to>Fetch Number of Tested Sons</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Number of Tested Sons</from>
      <to>Fetch Number of HIV+ Sons</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Number of HIV+ Sons</from>
      <to>Fetch Tabaco</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Tabaco</from>
      <to>Map Tabaco</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Tabaco</from>
      <to>Fetch Alcool</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Alcool</from>
      <to>Map Alcool</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Alcool</from>
      <to>Fetch Drugs</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Drugs</from>
      <to>Map Drugs</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Drugs</from>
      <to>Fetch Number of Partners</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Number of Partners</from>
      <to>Map Number of Partners</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Number of Partners</from>
      <to>Fetch Antecedentes Ginecologicos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Antecedentes Ginecologicos</from>
      <to>Fetch Ultima Menstruacao</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Ultima Menstruacao</from>
      <to>Fetch Aborto</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Aborto</from>
      <to>Map Aborto</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Aborto</from>
      <to>Fetch PTV</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch PTV</from>
      <to>Map PTV</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map PTV</from>
      <to>Fetch PTV Quais</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch PTV Quais</from>
      <to>Map PTV Quais</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map PTV Quais</from>
      <to>Fetch Gravida</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Gravida</from>
      <to>Map Gravida</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Gravida</from>
      <to>Fetch Semana Gestacao</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Semana Gestacao</from>
      <to>Fetch Previsao Parto</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Previsao Parto</from>
      <to>Fetch Data Parto</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Data Parto</from>
      <to>Fetch Tipo Aleitamento</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Tipo Aleitamento</from>
      <to>Map Tipo Aleitamento</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Tipo Aleitamento</from>
      <to>Fetch Alergia Medicamentos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Alergia Medicamentos</from>
      <to>Map Alergia Medicamentos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Alergia Medicamentos</from>
      <to>Fetch Alergia Medicamentos Quais</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Alergia Medicamentos Quais</from>
      <to>Fetch Antecedentes TARV</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Antecedentes TARV</from>
      <to>Fetch Antecedentes TARV Quais</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Antecedentes TARV Quais</from>
      <to>Fetch Exposicao Acidental</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Exposicao Acidental</from>
      <to>Map Exposicao Acidental</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Exposicao Acidental</from>
      <to>Fetch Tipo de Acidente</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Tipo de Acidente</from>
      <to>Map Tipo Acidente</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Tipo Acidente</from>
      <to>Tipo Acidente NVL</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Tipo Acidente NVL</from>
      <to>Fetch Geleira</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Geleira</from>
      <to>Fetch Eletricidade</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Eletricidade</from>
      <to>Fetch Orientacao Sexual</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Orientacao Sexual</from>
      <to>Map Orientacao Sexual</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Map Orientacao Sexual</from>
      <to>Fetch Historia Actual</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Historia Actual</from>
      <to>Fetch Hipotese Diagnostico</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Hipotese Diagnostico</from>
      <to>Fetch Karnovsky</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fetch Karnovsky</from>
      <to>Save to t_adulto</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Academic Level</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_text as academic_level_code from obs
where obs.voided = false
  and obs.concept_id = 1443
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>528</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Aborto</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded aborto_code from obs
where obs.voided = false
  and obs.concept_id = 1667
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1360</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Alcool</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded alcool_code from obs
where obs.voided = false
  and obs.concept_id = 1603
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>304</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Alergia Medicamentos</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded alergia_medicamentos_code from obs
where obs.voided = false
  and obs.concept_id = 1601
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>432</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Alergia Medicamentos Quais</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_text alergia_medicamentos_quais from obs
where obs.voided = false
  and obs.concept_id = 1517
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>848</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Antecedentes Ginecologicos</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_text antecedentes_ginecologicos from obs
where obs.voided = false
  and obs.concept_id = 1394
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1136</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Antecedentes TARV</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select case obs.value_coded when 1065 then true when 1066 then false else null end antecedentes_tarv from obs
where obs.voided = false
  and obs.concept_id = 1192
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1072</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Antecedentes TARV Quais</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select concept_name.name antecedentes_tarv_quais from obs
join concept_name on (concept_name.concept_id = obs.value_coded)
where obs.voided = false
  and concept_name.voided = false
  and obs.concept_id = 1087
  and concept_name.locale='pt' 
  and concept_name.concept_name_type='FULLY_SPECIFIED'
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1360</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Conviventes</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_numeric conviventes_number from obs
where obs.voided = false
  and obs.concept_id = 1656
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>800</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Data Parto</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_datetime data_parto from obs
where obs.voided = false
  and obs.concept_id = 5599
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>96</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Drugs</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded drug_code from obs
where obs.voided = false
  and obs.concept_id = 105
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>512</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Eletricidade</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select case obs.value_coded when 1065 then true when 1066 then false else null end eletricidade from obs
where obs.voided = false
  and obs.concept_id = 5609
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>448</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Exposicao Acidental</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded exposicao_acidental_code from obs
where obs.voided = false
  and obs.concept_id = 1687
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1360</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch First Encounter</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select encounter.encounter_id from encounter
where encounter.voided = false
  and encounter.encounter_type = 5
  and encounter.encounter_datetime = ?
  and encounter.patient_id = ?
order by encounter.encounter_id
</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>dataabertura</name>
        <type>Date</type>
      </field>
      <field>
        <name>patient_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>256</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Geleira</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select case obs.value_coded when 1065 then true when 1066 then false else null end geleira from obs
where obs.voided = false
  and obs.concept_id = 1455
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Gravida</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded gravida_code from obs
where obs.voided = false
  and obs.concept_id = 1982
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>704</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Hipotese Diagnostico</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_text hipotese_diagnostico from obs
where obs.voided = false
  and obs.concept_id = 1649
  and obs.person_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>patient_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>272</xloc>
      <yloc>640</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Historia Actual</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_text historia_actual from obs
where obs.voided = false
  and obs.concept_id = 1671
  and obs.person_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>patient_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>96</xloc>
      <yloc>640</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Karnovsky</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_numeric karnovsky from obs
where obs.voided = false
  and obs.concept_id = 5283
  and obs.person_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>patient_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>432</xloc>
      <yloc>640</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Marital Status</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded marital_status_code from obs
where obs.voided = false
  and obs.concept_id = 1054
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>944</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Number of HIV+ Sons</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_numeric number_hivp_of_sons from obs
where obs.voided = false
  and obs.concept_id = 1453
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>96</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Number of Partners</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded number_of_partners_code from obs
where obs.voided = false
  and obs.concept_id = 1666
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>752</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Number of Sons</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_numeric number_of_sons from obs
where obs.voided = false
  and obs.concept_id = 5573
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>464</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Number of Tested Sons</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_numeric number_tested_of_sons from obs
where obs.voided = false
  and obs.concept_id = 1452
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>288</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Orientacao Sexual</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded orientacao_sexual_code from obs
where obs.voided = false
  and obs.concept_id = 1375
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>288</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch PTV</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded ptv_code from obs
where obs.voided = false
  and obs.concept_id = 1466
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1136</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch PTV Quais</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded ptv_quais_code from obs
where obs.voided = false
  and obs.concept_id = 1504
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>944</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Previsao Parto</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_datetime previsao_parto from obs
where obs.voided = false
  and obs.concept_id = 1600
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>320</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Process Number</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_text process_number from obs
where obs.voided = false
  and obs.concept_id = 1450
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>848</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Process Number Conjugue</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_text process_number_conjungue from obs
where obs.voided = false
  and obs.concept_id = 1451
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>656</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Profission</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_text as profission_code from obs
where obs.voided = false
  and obs.concept_id = 1459
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>400</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Semana Gestacao</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_numeric semana_gestacao from obs
where obs.voided = false
  and obs.concept_id = 1279
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>480</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Serologia HIV Conjugue</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded serologia_hiv_conjugue_code from obs
where obs.voided = false
  and obs.concept_id = 1449
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1264</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Tabaco</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded tabaco_code from obs
where obs.voided = false
  and obs.concept_id = 1388
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>96</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Tipo Aleitamento</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded tipo_aleitamento_code from obs
where obs.voided = false
  and obs.concept_id = 1151
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>96</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Tipo de Acidente</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_coded tipo_acidente_code, obs.value_text tipo_acidente_text from obs
where obs.voided = false
  and obs.concept_id in (1061,1435)
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1008</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fetch Ultima Menstruacao</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_datetime ultima_menstruacao from obs
where obs.voided = false
  and obs.concept_id = 1465
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1360</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Load from t_paciente</name>
    <type>TableInput</type>
    <description />
    <distribute>N</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>Export DB</connection>
    <sql>select t_paciente.patient_id, t_paciente.nid, t_paciente.dataabertura from t_paciente
where t_paciente.tipopaciente = 'Adulto'</sql>
    <limit>0</limit>
    <lookup />
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>96</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Aborto</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>aborto_code</field_to_use>
    <target_field>aborto_desc</target_field>
    <non_match_default />
    <fields>
      <field>
        <source_value>50</source_value>
        <target_value>1</target_value>
      </field>
      <field>
        <source_value>1066</source_value>
        <target_value>0</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1248</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Academic Level</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>academic_level_code</field_to_use>
    <target_field>academic_level_desc</target_field>
    <non_match_default>OUTRO</non_match_default>
    <fields>
      <field>
        <source_value>1445</source_value>
        <target_value>NENHUM</target_value>
      </field>
      <field>
        <source_value>1446</source_value>
        <target_value>PRIMARIO</target_value>
      </field>
      <field>
        <source_value>1447</source_value>
        <target_value>SECUNDARIO BASICO</target_value>
      </field>
      <field>
        <source_value>6124</source_value>
        <target_value>TECNICO BASICO</target_value>
      </field>
      <field>
        <source_value>1444</source_value>
        <target_value>SECUNDARIO MEDIO</target_value>
      </field>
      <field>
        <source_value>6125</source_value>
        <target_value>TECNICO MEDIO</target_value>
      </field>
      <field>
        <source_value>1448</source_value>
        <target_value>UNIVERSITARIO</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>656</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Alcool</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>alcool_code</field_to_use>
    <target_field>alcool_desc</target_field>
    <non_match_default />
    <fields>
      <field>
        <source_value>1065</source_value>
        <target_value>1</target_value>
      </field>
      <field>
        <source_value>1066</source_value>
        <target_value>0</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>416</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Alergia Medicamentos</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>alergia_medicamentos_code</field_to_use>
    <target_field>alergia_medicamentos_desc</target_field>
    <non_match_default>OUTRO</non_match_default>
    <fields>
      <field>
        <source_value>1065</source_value>
        <target_value>SIM</target_value>
      </field>
      <field>
        <source_value>1066</source_value>
        <target_value>NAO</target_value>
      </field>
      <field>
        <source_value>1067</source_value>
        <target_value>NAO SABE</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>624</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Drugs</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>drug_code</field_to_use>
    <target_field>drug_desc</target_field>
    <non_match_default />
    <fields>
      <field>
        <source_value>1065</source_value>
        <target_value>1</target_value>
      </field>
      <field>
        <source_value>1066</source_value>
        <target_value>0</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>608</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Exposicao Acidental</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>exposicao_acidental_code</field_to_use>
    <target_field>exposicao_acidental_desc</target_field>
    <non_match_default>OUTRO</non_match_default>
    <fields>
      <field>
        <source_value>1443</source_value>
        <target_value>SIM</target_value>
      </field>
      <field>
        <source_value>1066</source_value>
        <target_value>NAO</target_value>
      </field>
      <field>
        <source_value>1457</source_value>
        <target_value>NAO SABE</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1184</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Gravida</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>gravida_code</field_to_use>
    <target_field>gravida_desc</target_field>
    <non_match_default />
    <fields>
      <field>
        <source_value>44</source_value>
        <target_value>1</target_value>
      </field>
      <field>
        <source_value>1066</source_value>
        <target_value>0</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>608</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Matiral Status</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>marital_status_code</field_to_use>
    <target_field>marital_status_desc</target_field>
    <non_match_default>OUTRO</non_match_default>
    <fields>
      <field>
        <source_value>1057</source_value>
        <target_value>S</target_value>
      </field>
      <field>
        <source_value>5555</source_value>
        <target_value>C</target_value>
      </field>
      <field>
        <source_value>1059</source_value>
        <target_value>V</target_value>
      </field>
      <field>
        <source_value>1060</source_value>
        <target_value>U</target_value>
      </field>
      <field>
        <source_value>1056</source_value>
        <target_value>SEPARADO</target_value>
      </field>
      <field>
        <source_value>1058</source_value>
        <target_value>DIVORCIADO</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1088</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Number of Partners</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>number_of_partners_code</field_to_use>
    <target_field>number_of_partners_desc</target_field>
    <non_match_default>4</non_match_default>
    <fields>
      <field>
        <source_value>1662</source_value>
        <target_value>1</target_value>
      </field>
      <field>
        <source_value>1663</source_value>
        <target_value>2</target_value>
      </field>
      <field>
        <source_value>1664</source_value>
        <target_value>3</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>928</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Orientacao Sexual</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>orientacao_sexual_code</field_to_use>
    <target_field>orientacao_sexual_desc</target_field>
    <non_match_default>OUTRO</non_match_default>
    <fields>
      <field>
        <source_value>1376</source_value>
        <target_value>HETEROSSEXUAL</target_value>
      </field>
      <field>
        <source_value>1377</source_value>
        <target_value>HOMOSSEXUAL</target_value>
      </field>
      <field>
        <source_value>1378</source_value>
        <target_value>BISSEXUAL</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>96</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map PTV</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>ptv_code</field_to_use>
    <target_field>ptv_desc</target_field>
    <non_match_default />
    <fields>
      <field>
        <source_value>1065</source_value>
        <target_value>1</target_value>
      </field>
      <field>
        <source_value>1066</source_value>
        <target_value>0</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1040</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map PTV Quais</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>ptv_quais_code</field_to_use>
    <target_field>ptv_quais_desc</target_field>
    <non_match_default>OUTRO</non_match_default>
    <fields>
      <field>
        <source_value>631</source_value>
        <target_value>NVP</target_value>
      </field>
      <field>
        <source_value>797</source_value>
        <target_value>AZT</target_value>
      </field>
      <field>
        <source_value>792</source_value>
        <target_value>D4T+3TC+NVP</target_value>
      </field>
      <field>
        <source_value>1800</source_value>
        <target_value>TARV</target_value>
      </field>
      <field>
        <source_value>1801</source_value>
        <target_value>AZT+NVP</target_value>
      </field>
      <field>
        <source_value>630</source_value>
        <target_value>AZT+3TC</target_value>
      </field>
      <field>
        <source_value>628</source_value>
        <target_value>3TC</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>832</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Sorologia HIV Conjugue</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>serologia_hiv_conjugue_code</field_to_use>
    <target_field>serologia_hiv_conjugue_desc</target_field>
    <non_match_default>OUTRO</non_match_default>
    <fields>
      <field>
        <source_value>1169</source_value>
        <target_value>POSITIVO</target_value>
      </field>
      <field>
        <source_value>1066</source_value>
        <target_value>NEGATIVO</target_value>
      </field>
      <field>
        <source_value>1457</source_value>
        <target_value>SEM INFORMACAO</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1056</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Tabaco</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>tabaco_code</field_to_use>
    <target_field>tabaco_desc</target_field>
    <non_match_default />
    <fields>
      <field>
        <source_value>1065</source_value>
        <target_value>1</target_value>
      </field>
      <field>
        <source_value>1066</source_value>
        <target_value>0</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>192</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Tipo Acidente</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>tipo_acidente_code</field_to_use>
    <target_field>tipo_acidente_desc</target_field>
    <non_match_default />
    <fields>
      <field>
        <source_value>181</source_value>
        <target_value>PICA COM AGULHA CONTAMINADA</target_value>
      </field>
      <field>
        <source_value>5564</source_value>
        <target_value>SUSPEITO DE UM PARCEIRO CONTAMINADO</target_value>
      </field>
      <field>
        <source_value>1508</source_value>
        <target_value>EXTRACAO DENTARIA</target_value>
      </field>
      <field>
        <source_value>1507</source_value>
        <target_value>INJECCAO</target_value>
      </field>
      <field>
        <source_value>1509</source_value>
        <target_value>ESCARIFICACAO</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>848</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Map Tipo Aleitamento</name>
    <type>ValueMapper</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <field_to_use>tipo_aleitamento_code</field_to_use>
    <target_field>tipo_aleitamento_desc</target_field>
    <non_match_default>OUTRO</non_match_default>
    <fields>
      <field>
        <source_value>5526</source_value>
        <target_value>MATERNO</target_value>
      </field>
      <field>
        <source_value>5254</source_value>
        <target_value>ARTIFICIAL</target_value>
      </field>
      <field>
        <source_value>6046</source_value>
        <target_value>MISTO</target_value>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>256</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Numero de Conjugues</name>
    <type>DBJoin</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>EMR (OpenMRS)</connection>
    <rowlimit>1</rowlimit>
    <sql>select obs.value_numeric number_of_parners from obs
where obs.voided = false
  and obs.concept_id = 5557
  and obs.encounter_id = ?
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>encounter_id</name>
        <type>Number</type>
      </field>
    </parameter>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1264</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Save to t_adulto</name>
    <type>TableOutput</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>Export DB</connection>
    <schema />
    <table>t_adulto</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field />
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field />
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field />
    <fields>
      <field>
        <column_name>patient_id</column_name>
        <stream_name>patient_id</stream_name>
      </field>
      <field>
        <column_name>nid</column_name>
        <stream_name>nid</stream_name>
      </field>
      <field>
        <column_name>encounter_id</column_name>
        <stream_name>encounter_id</stream_name>
      </field>
      <field>
        <column_name>codprofissao</column_name>
        <stream_name>profission_code</stream_name>
      </field>
      <field>
        <column_name>codnivel</column_name>
        <stream_name>academic_level_desc</stream_name>
      </field>
      <field>
        <column_name>nrconviventes</column_name>
        <stream_name>conviventes_number</stream_name>
      </field>
      <field>
        <column_name>codestadocivil</column_name>
        <stream_name>marital_status_desc</stream_name>
      </field>
      <field>
        <column_name>nrconjuges</column_name>
        <stream_name>number_of_parners</stream_name>
      </field>
      <field>
        <column_name>serologiaHivconjuge</column_name>
        <stream_name>serologia_hiv_conjugue_desc</stream_name>
      </field>
      <field>
        <column_name>Nrprocesso</column_name>
        <stream_name>process_number</stream_name>
      </field>
      <field>
        <column_name>outrosparceiros</column_name>
        <stream_name>process_number_conjungue</stream_name>
      </field>
      <field>
        <column_name>nrfilhos</column_name>
        <stream_name>number_of_sons</stream_name>
      </field>
      <field>
        <column_name>nrfilhostestados</column_name>
        <stream_name>number_tested_of_sons</stream_name>
      </field>
      <field>
        <column_name>nrfilhoshiv</column_name>
        <stream_name>number_hivp_of_sons</stream_name>
      </field>
      <field>
        <column_name>tabaco</column_name>
        <stream_name>tabaco_desc</stream_name>
      </field>
      <field>
        <column_name>alcool</column_name>
        <stream_name>alcool_desc</stream_name>
      </field>
      <field>
        <column_name>droga</column_name>
        <stream_name>drug_desc</stream_name>
      </field>
      <field>
        <column_name>nrparceiros</column_name>
        <stream_name>number_of_partners_desc</stream_name>
      </field>
      <field>
        <column_name>antecedentesgenelogicos</column_name>
        <stream_name>antecedentes_ginecologicos</stream_name>
      </field>
      <field>
        <column_name>datamestruacao</column_name>
        <stream_name>ultima_menstruacao</stream_name>
      </field>
      <field>
        <column_name>aborto</column_name>
        <stream_name>aborto_desc</stream_name>
      </field>
      <field>
        <column_name>ptv</column_name>
        <stream_name>ptv_desc</stream_name>
      </field>
      <field>
        <column_name>ptvquais</column_name>
        <stream_name>ptv_quais_desc</stream_name>
      </field>
      <field>
        <column_name>gravida</column_name>
        <stream_name>gravida_desc</stream_name>
      </field>
      <field>
        <column_name>semanagravidez</column_name>
        <stream_name>semana_gestacao</stream_name>
      </field>
      <field>
        <column_name>dataprevistoparto</column_name>
        <stream_name>previsao_parto</stream_name>
      </field>
      <field>
        <column_name>dataparto</column_name>
        <stream_name>data_parto</stream_name>
      </field>
      <field>
        <column_name>tipoaleitamento</column_name>
        <stream_name>tipo_aleitamento_desc</stream_name>
      </field>
      <field>
        <column_name>Alergiamedicamentos</column_name>
        <stream_name>alergia_medicamentos_desc</stream_name>
      </field>
      <field>
        <column_name>Alergiasquais</column_name>
        <stream_name>alergia_medicamentos_quais</stream_name>
      </field>
      <field>
        <column_name>Antecedentestarv</column_name>
        <stream_name>antecedentes_tarv</stream_name>
      </field>
      <field>
        <column_name>antecedentesquais</column_name>
        <stream_name>antecedentes_tarv_quais</stream_name>
      </field>
      <field>
        <column_name>exposicaoacidental</column_name>
        <stream_name>exposicao_acidental_desc</stream_name>
      </field>
      <field>
        <column_name>tipoacidente</column_name>
        <stream_name>tipo_acidente</stream_name>
      </field>
      <field>
        <column_name>electricidade</column_name>
        <stream_name>eletricidade</stream_name>
      </field>
      <field>
        <column_name>geleira</column_name>
        <stream_name>geleira</stream_name>
      </field>
      <field>
        <column_name>sexualidade</column_name>
        <stream_name>orientacao_sexual_desc</stream_name>
      </field>
      <field>
        <column_name>historiaactual</column_name>
        <stream_name>historia_actual</stream_name>
      </field>
      <field>
        <column_name>hipotesedediagnostico</column_name>
        <stream_name>hipotese_diagnostico</stream_name>
      </field>
      <field>
        <column_name>codkarnosfsky</column_name>
        <stream_name>karnovsky</stream_name>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>560</xloc>
      <yloc>640</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Tipo Acidente NVL</name>
    <type>Calculator</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <calculation>
      <field_name>tipo_acidente</field_name>
      <calc_type>NVL</calc_type>
      <field_a>tipo_acidente_desc</field_a>
      <field_b>tipo_acidente_text</field_b>
      <field_c />
      <value_type>String</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <remove>N</remove>
      <conversion_mask />
      <decimal_symbol />
      <grouping_symbol />
      <currency_symbol />
    </calculation>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>704</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
</transformation>
